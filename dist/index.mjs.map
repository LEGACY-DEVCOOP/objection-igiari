{"version":3,"sources":["../src/components/ObjectionPlayer.tsx","../src/assets/phoenix.ts","../src/assets/miles.ts","../src/assets/judge1.ts","../src/assets/judge3.ts","../src/assets/index.ts","../src/core/engine.ts"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { ObjectionPlayerProps } from '../types';\nimport { generatePlayerHTML } from '../core';\n\n/**\n * ObjectionPlayer Component\n *\n * Renders an Objection.lol style scene player in an iframe\n *\n * @example\n * ```tsx\n * <ObjectionPlayer\n *   character=\"phoenix\"\n *   nameplate=\"나루호도\"\n *   text=\"이의 있소!\"\n * />\n * ```\n */\nexport const ObjectionPlayer: React.FC<ObjectionPlayerProps> = (props) => {\n  const {\n    character,\n    nameplate,\n    text,\n    pose,\n    onComplete,\n    className = '',\n    style = {},\n    assetsBasePath = '/objection-assets',\n    maxWidth = '90%',\n  } = props;\n\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const [isReady, setIsReady] = useState(false);\n\n  useEffect(() => {\n    console.log('[ObjectionPlayer] Rendering with:', { character, nameplate, text });\n\n    // Generate HTML for the player\n    const html = generatePlayerHTML({\n      ...props,\n      assetsBasePath,\n      maxWidth,\n    });\n\n    console.log('[ObjectionPlayer] Generated HTML length:', html.length);\n    console.log('[ObjectionPlayer] Assets path:', assetsBasePath);\n    console.log('[ObjectionPlayer] Generated HTML:', html.substring(0, 500));\n\n    // Inject HTML into iframe\n    if (iframeRef.current) {\n      const iframe = iframeRef.current;\n      const doc = iframe.contentDocument || iframe.contentWindow?.document;\n\n      if (doc) {\n        console.log('[ObjectionPlayer] Injecting HTML into iframe...');\n        doc.open();\n        doc.write(html);\n        doc.close();\n        setIsReady(true);\n        console.log('[ObjectionPlayer] HTML injected successfully');\n\n        // Listen for errors inside iframe\n        iframe.contentWindow?.addEventListener('error', (e) => {\n          console.error('[ObjectionPlayer] iframe error:', e.error || e.message);\n        });\n\n        // Check if Objection engine loaded\n        setTimeout(() => {\n          const win = iframe.contentWindow as any;\n          const hasAssets = win?.OBJECTION_ASSETS;\n          const hasProject = win?.OBJECTION_PROJECT;\n          console.log('[ObjectionPlayer] iframe window check:', {\n            hasAssets: !!hasAssets,\n            hasProject: !!hasProject,\n            bodyHTML: doc.body?.innerHTML?.substring(0, 200)\n          });\n        }, 1000);\n      } else {\n        console.error('[ObjectionPlayer] Could not access iframe document');\n      }\n    } else {\n      console.error('[ObjectionPlayer] iframe ref is null');\n    }\n  }, [character, nameplate, text, pose, assetsBasePath, maxWidth]);\n\n  useEffect(() => {\n    // Listen for completion messages from iframe\n    const handleMessage = (event: MessageEvent) => {\n      if (event.data.type === 'objection-complete') {\n        onComplete?.();\n      }\n    };\n\n    window.addEventListener('message', handleMessage);\n    return () => window.removeEventListener('message', handleMessage);\n  }, [onComplete]);\n\n  return (\n    <div\n      className={`objection-player-container ${className}`}\n      style={{\n        width: '100%',\n        height: '100%',\n        minHeight: '400px',\n        position: 'relative',\n        ...style,\n      }}\n    >\n      <iframe\n        ref={iframeRef}\n        title=\"Objection Player\"\n        style={{\n          width: '100%',\n          height: '100%',\n          border: 'none',\n          display: 'block',\n        }}\n        sandbox=\"allow-scripts allow-same-origin\"\n      />\n      {!isReady && (\n        <div\n          style={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            fontSize: '14px',\n            color: '#666',\n          }}\n        >\n          Loading...\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ObjectionPlayer;\n","import { CharacterConfig } from '../types';\n\n/**\n * Phoenix Wright character configuration\n */\nexport const phoenixConfig: CharacterConfig = {\n  id: 1,\n  name: 'Phoenix Wright',\n  defaultPose: 2, // Desk Slam\n  defaultBubble: 1, // Objection!\n  backgroundId: 189,\n  side: 'defense',\n  resourcePath: 'Pheonix', // Note: matches the person-resource folder name\n};\n\n/**\n * Available poses for Phoenix Wright\n */\nexport const phoenixPoses = {\n  slam: 2, // Desk Slam pose\n};\n","import { CharacterConfig } from '../types';\n\n/**\n * Miles Edgeworth character configuration\n */\nexport const milesConfig: CharacterConfig = {\n  id: 3,\n  name: 'Miles Edgeworth',\n  defaultPose: 13, // Arms Crossed\n  backgroundId: 194,\n  side: 'prosecution',\n  resourcePath: 'Miles',\n};\n\n/**\n * Available poses for Miles Edgeworth\n */\nexport const milesPoses = {\n  armsCrossed: 13, // Arms Crossed pose\n};\n","import { CharacterConfig } from '../types';\n\n/**\n * Judge character configuration (default)\n */\nexport const judge1Config: CharacterConfig = {\n  id: 10,\n  name: 'The Judge',\n  defaultPose: 30, // Stand\n  backgroundId: 192,\n  side: 'judge',\n  resourcePath: 'judge1',\n};\n\n/**\n * Available poses for Judge\n */\nexport const judge1Poses = {\n  stand: 30, // Stand pose\n};\n","import { CharacterConfig } from '../types';\n\n/**\n * Judge character configuration (with Gavel Slam)\n */\nexport const judge3Config: CharacterConfig = {\n  id: 10, // The Judge\n  name: 'The Judge',\n  defaultPose: 186, // Eyes Closed\n  defaultBubble: 1, // Gavel Slam x3\n  backgroundId: 192,\n  side: 'judge',\n  resourcePath: 'judgeslam3',\n};\n\n/**\n * Available poses for Judge3\n */\nexport const judge3Poses = {\n  eyesClosed: 186, // Eyes Closed pose\n};\n","import { CharacterConfig, CharacterType } from '../types';\nimport { phoenixConfig } from './phoenix';\nimport { milesConfig } from './miles';\nimport { judge1Config } from './judge1';\nimport { judge3Config } from './judge3';\n\n/**\n * Map of all character configurations\n */\nexport const characterConfigs: Record<CharacterType, CharacterConfig> = {\n  phoenix: phoenixConfig,\n  miles: milesConfig,\n  judge1: judge1Config,\n  judge3: judge3Config,\n};\n\n/**\n * Get character configuration by character type\n */\nexport function getCharacterConfig(character: CharacterType): CharacterConfig {\n  return characterConfigs[character];\n}\n\nexport { phoenixConfig, milesConfig, judge1Config, judge3Config };\n","import { CharacterType, ObjectionAssets, ObjectionProject, ObjectionPlayerProps } from '../types';\nimport { getCharacterConfig } from '../assets';\n\n/**\n * Generate OBJECTION_ASSETS object for a character\n * Loads the base assets template and updates paths and nameplate\n */\nexport function generateAssets(\n  character: CharacterType,\n  nameplate: string,\n  basePath: string = '/objection-assets'\n): ObjectionAssets {\n  const config = getCharacterConfig(character);\n  const resourcePath = `${basePath}/${config.resourcePath}`;\n\n  // Base assets structure - will be populated with actual character data\n  const assets: ObjectionAssets = {\n    background: {},\n    character: {},\n    sound: {},\n    music: {},\n    evidence: {},\n    popup: {},\n    dialogueBox: {},\n  };\n\n  // Build background configuration\n  assets.background[config.backgroundId] = {\n    id: config.backgroundId,\n    name: `[PW] ${config.side.charAt(0).toUpperCase() + config.side.slice(1)}`,\n    url: `${resourcePath}/resources/Images/Backgrounds/Preset/[PW] ${\n      config.side.charAt(0).toUpperCase() + config.side.slice(1)\n    }.jpg`,\n    deskUrl: `${resourcePath}/resources/Images/Backgrounds/Preset_Desk/[PW] ${\n      config.side.charAt(0).toUpperCase() + config.side.slice(1)\n    }.png`,\n    isWide: false,\n  };\n\n  // Build character configuration\n  assets.character[config.id] = {\n    id: config.id,\n    isPreset: true,\n    name: config.name,\n    nameplate: nameplate, // Dynamic nameplate\n    side: config.side,\n    backgroundId: config.backgroundId,\n    blipUrl: `${resourcePath}/resources/Audio/blip.wav`,\n    alignment: null,\n    galleryAJImageUrl: null,\n    galleryImageUrl: `${resourcePath}/resources/Images/Gallery/${config.id}.png`,\n    iconUrl: `${resourcePath}/resources/Images/Characters/${config.id}/icon.png`,\n    limitWidth: true,\n    offsetX: 0,\n    offsetY: 0,\n    poses: [],\n    speechBubbles: [],\n    size: 100,\n  };\n\n  // Add default pose\n  const pose: any = {\n    id: config.defaultPose,\n    name: 'Default',\n    iconUrl: `${resourcePath}/resources/Images/PoseIcons/${config.defaultPose}.png`,\n    order: 0,\n    idleImageUrl: `${resourcePath}/resources/Images/Characters/${config.id}/Stand.gif`,\n    speakImageUrl: `${resourcePath}/resources/Images/Characters/${config.id}/Stand_Talk.gif`,\n    poseAudioTicks: [],\n    poseFunctionTicks: [],\n    poseStates: [],\n  };\n\n  // Add special animations for specific characters\n  if (character === 'phoenix') {\n    pose.idleImageUrl = `${resourcePath}/resources/Images/Characters/${config.id}/Slam_Stand.gif`;\n    pose.speakImageUrl = `${resourcePath}/resources/Images/Characters/${config.id}/Slam_Talk.gif`;\n    pose.poseAudioTicks = [\n      {\n        id: 0,\n        fileName: `${resourcePath}/resources/Audio/deskslam.mp3`,\n        time: 175,\n        volume: 100,\n      },\n    ];\n    pose.poseStates = [\n      {\n        id: 0,\n        imageUrl: `${resourcePath}/resources/Images/Characters/${config.id}/Slam.gif`,\n        nextPoseDelay: 1100,\n        noSpeakDelay: false,\n      },\n    ];\n\n    // Add Objection! bubble for Phoenix\n    assets.character[config.id].speechBubbles.push({\n      id: 1,\n      name: 'Objection!',\n      duration: 950,\n      imageUrl: `${resourcePath}/resources/Images/Bubbles/1.png`,\n      shake: true,\n      fullscreen: false,\n      order: 0,\n      soundUrl: `${resourcePath}/resources/Audio/Vocal/1/1.mp3`,\n    });\n  } else if (character === 'miles') {\n    pose.idleImageUrl = `${resourcePath}/resources/Images/Characters/${config.id}/Arms_Crossed.gif`;\n    pose.speakImageUrl = `${resourcePath}/resources/Images/Characters/${config.id}/Arms_Crossed_Talk.gif`;\n  } else if (character === 'judge1') {\n    pose.idleImageUrl = `${resourcePath}/resources/Images/Characters/${config.id}/Stand.gif`;\n    pose.speakImageUrl = `${resourcePath}/resources/Images/Characters/${config.id}/Stand_Talk.gif`;\n  } else if (character === 'judge3') {\n    pose.idleImageUrl = `${resourcePath}/resources/Images/Characters/${config.id}/Closed_Eyes.gif`;\n    pose.speakImageUrl = `${resourcePath}/resources/Images/Characters/${config.id}/Closed_Eyes.gif`;\n\n    // Add Gavel Slam bubble for Judge3\n    assets.character[config.id].speechBubbles.push({\n      id: 1,\n      name: 'Gavel Slam x3',\n      duration: 1600,\n      imageUrl: `${resourcePath}/resources/Images/gavel.webp`,\n      shake: false,\n      fullscreen: true,\n      order: 0,\n      soundUrl: `${resourcePath}/resources/Audio/Vocal/1/10.mp3`,\n    });\n  }\n\n  assets.character[config.id].poses.push(pose);\n\n  return assets;\n}\n\n/**\n * Generate OBJECTION_PROJECT object\n * Creates a single-frame scene with the specified text\n */\nexport function generateProject(\n  character: CharacterType,\n  text: string,\n  pose?: string,\n  options?: Partial<ObjectionPlayerProps>\n): ObjectionProject {\n  const config = getCharacterConfig(character);\n  const poseId = pose ? parseInt(pose) : config.defaultPose;\n\n  // Add [#bgmd] tag before the text as specified\n  const formattedText = `[#bgmd]${text}`;\n\n  const project: ObjectionProject = {\n    id: generateUUID(),\n    type: 'scene',\n    aliases: [],\n    pairs: [],\n    groups: [\n      {\n        id: generateUUID(),\n        name: 'Main',\n        type: 'normal',\n        frames: [\n          {\n            characterId: config.id,\n            text: formattedText,\n            poseId: poseId,\n            id: 1,\n          },\n        ],\n        comments: {},\n      },\n    ],\n    options: {\n      autoplaySpeed: options?.autoplaySpeed ?? 500,\n      chatbox: '0',\n      continueSoundUrl: '',\n      textBlipFrequency: options?.textBlipFrequency ?? 64,\n      textSpeed: options?.textSpeed ?? 35,\n    },\n    nextFrameId: 2,\n    version: 5,\n  };\n\n  // Add speech bubble for characters that have one\n  if ((character === 'phoenix' || character === 'judge3') && config.defaultBubble) {\n    project.groups[0].frames[0].speechBubble = config.defaultBubble;\n  }\n\n  return project;\n}\n\n/**\n * Generate complete HTML for the Objection player\n * This HTML will be injected into an iframe\n */\nexport function generatePlayerHTML(props: ObjectionPlayerProps): string {\n  const {\n    character,\n    nameplate,\n    text,\n    pose,\n    autoplay = true,\n    assetsBasePath = '/objection-assets',\n  } = props;\n\n  const assets = generateAssets(character, nameplate, assetsBasePath);\n  const project = generateProject(character, text, pose, props);\n\n  return `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Objection Player</title>\n  <style>\n    html, body, #root {\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      background-color: black;\n    }\n\n    /* Hide control buttons */\n    #root > div > div:nth-child(2) {\n      display: none !important;\n    }\n  </style>\n\n  <script>\n    window.OBJECTION_EXPORT_MODE = true;\n    window.locale = 'en';\n    window.OBJECTION_ASSETS = ${JSON.stringify(assets)};\n    window.OBJECTION_PROJECT = ${JSON.stringify(project)};\n  </script>\n\n  <script defer src=\"${assetsBasePath}/js/export.js\"></script>\n\n  ${autoplay ? `\n  <script>\n    // Auto-start playback when page loads\n    window.addEventListener('load', function() {\n      // Wait for React to mount and render\n      setTimeout(function() {\n        // Find and click the play button\n        const playButton = document.querySelector('button[aria-label*=\"play\"], button[title*=\"play\"], button:has(svg)');\n        if (playButton) {\n          playButton.click();\n          console.log('[Objection] Auto-play triggered');\n        } else {\n          // Try alternative selectors\n          const buttons = document.querySelectorAll('button');\n          for (let btn of buttons) {\n            if (btn.textContent.toLowerCase().includes('play') ||\n                btn.querySelector('svg') ||\n                btn.innerHTML.includes('M11')) {\n              btn.click();\n              console.log('[Objection] Auto-play triggered (alternative)');\n              break;\n            }\n          }\n        }\n      }, 500);\n    });\n  </script>\n  ` : ''}\n</head>\n<body>\n  <div id=\"root\"></div>\n</body>\n</html>\n  `.trim();\n}\n\n/**\n * Generate a simple UUID for project IDs\n */\nfunction generateUUID(): string {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0;\n    const v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\n/**\n * Export all functions\n */\nexport { generateUUID };\n"],"mappings":"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","names":[]}